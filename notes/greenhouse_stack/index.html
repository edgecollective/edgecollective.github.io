
<!-- feed it through our cssmin filter to minify -->
<style>
  body{font-family:sans-serif;margin:20px;font-size:small;width:90%;margin-right:auto;margin-left:auto;padding-top:15px}#profile_pic{float:right;margin:0 0 1em 1em}h1{line-height:1em;font-size:x-large;margin-bottom:.31em}h2{font-size:large;margin-bottom:1px}h3{font-size:small;margin-bottom:1px}a{text-decoration:none}a:hover{text-decoration:underline}a:visited{color:#00f}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.posts-area{width:100%;padding-top:10px}.posts-area:after{content:"";display:table;clear:both}.post{float:left;width:33.33%;padding-right:20px}.post .post-contents{background:#f7f7f7;border-radius:5px}.post .image a{display:block;overflow:hidden;height:214px}.post img{object-fit:cover;width:100%;height:100%}.post .text{height:200px;padding:20px}@media (max-width:680px){.post{width:100%}}body{font:16px/1.5 sans-serif;font:16px;width:80%}.img-with-caption{font-size:15px;text-align:center;margin:20 0;background-color:F1F1F1;padding:10px}#pullout{text-align:center}#intro{max-width:700px;display:inline-block;text-align:justify;text-justify:inter-word}#post-content{max-width:800px}#post-title{margin-bottom:1px;background-color:#eee;border:1px solid #999;display:block;padding:8px;width:max-content;font-size:40px;margin-right:40px;margin-bottom:5px}#profile_pic{float:right;margin:0 0 1em 1em}#main-title{line-height:1em;font-size:x-large;margin-bottom:.31em}h1{line-height:1em;font-size:30px;margin-bottom:.31em}h2{margin-bottom:1px;font-size:22px}h3{font-size:15px;margin-bottom:1px}ol,ul{max-width:650px}a{text-decoration:none}a:hover{text-decoration:underline}a:visited{color:#00f}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.posts-area{width:100%;padding-top:10px}.posts-area:after{content:"";display:table;clear:both}.post{float:left;width:33.33%;padding:0 20px 20px 0}.contribute{width:100%;padding-top:10px}.post .post-contents{border-radius:10px;padding:20px 20px 10px 20px}.post .project-contents{background:#add8e6;border-radius:10px;padding:20px 20px 10px 20px}.post .project-updated{font-size:6px}.post .podcast-contents{background:#e9967a;border-radius:10px;padding:20px 20px 10px 20px}.post .note-contents{background:#e6e6fa;border-radius:10px;padding:20px 20px 10px 20px}.post .pedagogy-contents{background:#90ee90;border-radius:10px;padding:20px 20px 10px 20px}.post .talk-contents{background:pink;border-radius:10px;padding:20px 20px 10px 20px}.post .inter-contents{background:#add8e6;border-radius:5px}.post .image a{display:block;overflow:hidden;height:214px}.post img{object-fit:cover;width:100%;height:100%}img{max-height:500px;max-width:100%}table{margin:30 auto 30 auto;padding:10px;text-align:left;border:1px solid #000}td{padding:10px;text-align:left;font-size:15}.post .text{min-height:250px;padding:5px}.post .inter-text{height:250px}audio{width:50%;height:50px}figure{font-size:20}@media (max-width:1100px){.post{width:100%}table{width:100%}}.video-container{position:relative;width:100%;padding-bottom:56.25%}.video{position:absolute;top:0;left:0;width:100%;height:100%;border:0}.frame{height:300px;width:100%;white-space:nowrap;text-align:center;margin:1em 0}.helper{display:inline-block;height:100%;vertical-align:middle}.present_img{background:#3a6f9a;vertical-align:middle;max-height:300}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
</style>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" type="image/x-icon" href="/img/edge_favicon.png" />
    <title>Greenhouse Monitoring, &#39;Full Stack&#39;</title>
    <meta name="description" content="Instructions for End-to-End Greenhouse monitoring stack">
    <meta property="og:title" content="Instructions for End-to-End Greenhouse monitoring stack" />
    <!--<meta property="og:url" content="https://www.example.com/webpage/" /> -->
    <meta property="og:description" content="Instructions for End-to-End Greenhouse monitoring stack" />
    <meta property="og:image" content="//img/valedalama/greenhouse_stack.png" />
    <link rel="image_src" href="//img/valedalama/greenhouse_stack.png"> 
  </head>
  <body>

    <div id='post-content'>

  <h3><a href="/">Edge Collective</a></h3>
    <h1>Greenhouse Monitoring, &#39;Full Stack&#39;.</h1>
    <i>Instructions for End-to-End Greenhouse monitoring stack.</i>
<hr>
        <!-- <h1>Greenhouse Monitoring, &#39;Full Stack&#39;</h1> -->

  
  <p>(((Status: DRAFT)))</p>
<hr>
<h2>Overview</h2>
<p>Here we're going to be describing how to set up a basic 'Greenhouse Monitoring' system, which consists of three main parts:</p>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/greenhouse_stack.png"> <img src="/img/valedalama/greenhouse_stack.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Overview of the flow of data in the greenhouse monitoring 'stack'.</td>
</tr>
</tbody>
</table>
<ol>
<li><strong>Remote Node</strong> -- consisting of a microcontroller + sensor, that captures a signal (e.g. temperature) and relays this data via low-power radio to a wifi gateway</li>
<li><strong>Gateway</strong> -- which relays this incoming sensor data to a server</li>
<li><strong>Server</strong> -- a server which receives data from the gateway and stores it in a database.</li>
</ol>
<hr>
<h2>Table of Contents</h2>
<ol>
<li><a href="#server">Setting up the <strong>Server</strong></a></li>
<li><a href="#arduino">Setting up the <strong>Arduino IDE</strong></a></li>
<li><a href="#micro">Setting up the <strong>Remote Node</strong></a></li>
<li><a href="#gateway">Setting up the <strong>Gateway</strong></a></li>
</ol>
<hr>
<h2><a name="server"></a> 1. Server setup</h2>
<p><img src="/img/valedalama/stack_server.png" alt="figA2"></p>
<p>We will be covering two different server options:</p>
<ul>
<li><strong>FarmOS</strong> (an open source farm data management system); and</li>
<li><strong>Bayou</strong> (an open source sensor data cooperative).</li>
</ul>
<h3>FarmOS</h3>
<p>You can watch a short video (~ 3 min) on setting up a FarmOS sensor feed <a href="https://youtu.be/arGErKKODrU">here</a>.</p>
<p>The process will generate a public key + private key pair, and indicate a URL to which you can post sensor data via JSON (See &quot;Sensor Configuration&quot;: &quot;Developer Information&quot;).  The URL format looks like this:</p>
<pre><code>https://edgecollective.farmos.net/farm/sensor/listener/[public key]?private_key=[private key]
</code></pre>
<p>For example, a typical URL with the keys actually inserted looks like this:</p>
<pre><code>https://edgecollective.farmos.net/farm/sensor/listener/0ce692a8fd8474137839535dd7997a28?private_key=ba0c7dbfd4321b3abaa7851457dc12ef
</code></pre>
<p>Find this URL (with the keys inserted) for your sensor feed, and take note of it (keep the relevant FarmOS browser tab open, or copy-paste this URL into a text file.) It will be used in the  <a href="#gateway">Gateway Setup</a> section below.</p>
<h3>Bayou</h3>
<p>Another option is to use the <a href="http://159.65.226.222:3000/">Bayou cooperative sensor data platform</a>. This donation-based data service allows users to set up free sensor data feeds. Email collaborate at edgecollective dot io to request a password.</p>
<p>You can watch a short video on setting up a <a href="http://159.65.226.222:3000/">Bayou</a> sensor feed <a href="https://youtu.be/EKZA-AtDYO0">here</a>.</p>
<p>The basic steps are:</p>
<ol>
<li>Visit <a href="http://159.65.226.222:3000/">Bayou</a>.  There may be a 'username' and 'password' required to access the site -- contact collaborate@edgecollective.io to request a login!</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/bayou.png"> <img src="/img/valedalama/bayou_landing.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">The Bayou main site.</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>To create a new data feed, enter new values for your feed in the 'name' and 'description' fields, and click Create.</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/bayou_create.png"> <img src="/img/valedalama/bayou_create.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Create a new data feed on Bayou by entering a 'name' and 'description' for the feed, and then pressing the 'Create' button.</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>This will generate a <strong>public key</strong> and a <strong>private key</strong>.</li>
</ol>
<blockquote>
<p><strong>IMPORTANT:  Take note of these keys!</strong> Copy them to a separate text file for safekeeping -- you will use them in your gateway configuration file in the <a href="#gateway">Gateway Setup</a> step below.</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/bayou_keys_highlight.png"> <img src="/img/valedalama/bayou_keys_highlight.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">After clicking 'create', you'll be shown a Public Key and Private Key.  Take note of these!</td>
</tr>
</tbody>
</table>
<ol start="4">
<li>To view a feed you've created, enter the <strong>public key</strong> into the 'View a data feed!' section, in the 'key' field, and click View.</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/bayou_view.png"> <img src="/img/valedalama/bayou_view.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">To view a feed you've created, enter the <strong>public key</strong> into the 'View a data feed!' section, in the 'key' field, and click View.</td>
</tr>
</tbody>
</table>
<hr>
<h2><a name="arduino"></a> 2. Setting up the Arduino IDE</h2>
<p>In order to load firmware onto the Remote Node and the Gateway, we'll need to set up the Arduino IDE to program the Feather M0 (for the Remote node, which uses a Feather M0 LoRa), and an ESP32-based device (for the Gateway, which uses an ESP32-based Heltec device).</p>
<p>(You can download the Arduino IDE for your operating system <a href="">here</a>.)</p>
<p>We can configure the Arduino IDE to talk to these boards using the instructions below.</p>
<p>In the Arduino IDE, go to <strong>File: Preferences</strong> menu.  You will see an &quot;Additional Boards Manager URLs&quot; dialog box:</p>
<p><img src="/img/valedalama/preferences.png" alt="figA2"></p>
<p>Enter the following URLS into this dialog box (note, this contains two URLs separated by a comma):</p>
<pre><code>https://adafruit.github.io/arduino-board-index/package_adafruit_index.json, https://adafruit.github.io/arduino-board-index/package_adafruit_index.json
</code></pre>
<p>After entering them, it might look something like this:</p>
<p><img src="/img/valedalama/pref_comma.png" alt="figA2"></p>
<p>Hit &quot;OK&quot;.</p>
<p>Now go to &quot;Tools: Board: Boards Manager&quot; menu.</p>
<p>(Note that the following installation process can take several minutes for each board setup.)</p>
<p>You need to install functionality for:</p>
<ul>
<li>The Arduino SAMD board definitions (search, and click 'Install'):</li>
</ul>
<p><img src="/img/valedalama/arduino_samd.png" alt="figA2"></p>
<ul>
<li>the Adafruit SAMD board definitions (search, and click 'Install'):</li>
</ul>
<p><img src="/img/valedalama/adafruit_samd.png" alt="figA2"></p>
<ul>
<li>and the ESP32 board definitions (search, and click 'Install'):</li>
</ul>
<p><img src="/img/valedalama/esp32.png" alt="figA2"></p>
<hr>
<h2><a name="micro"></a> 3. Remote Node setup</h2>
<p><img src="/img/valedalama/stack_node.png" alt="figA2"></p>
<p>In our example setup for this guide, the Remote node consists of:</p>
<ul>
<li><strong>Sensor</strong>: an AM2315 Temperature and Humidity Sensor</li>
<li><strong>Microcontroller</strong>: a Feather M0 LoRa</li>
<li><strong>Additional Hardware</strong>: a PVOS Greenhouse Motherboard Version 4 or Version 5.</li>
</ul>
<h3>Configuring the Arduino IDE to program Feather M0 LoRa</h3>
<ul>
<li>
<p><strong>Board selection</strong>. From the Arduino IDE Tools menu, select: &quot;Tools:Board:Adafruit SAMD:Adafruit Feather M0&quot;</p>
</li>
<li>
<p><strong>Port selection</strong>. From the Arduino IDE Tools: Port menu, select the port to which your Feather M0 is connected via USB.</p>
</li>
</ul>
<h3>Assembling the Remote Node</h3>
<p>The Remote Node requires the following hardware:</p>
<ul>
<li>a <a href="https://www.adafruit.com/product/3178">Feather M0 LoRa</a> (link allows purchase via Adafruit, Digikey, or etc.):</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/feather_m0.jpg"> <img src="/img/valedalama/feather_m0.jpg" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">a <a href="https://www.adafruit.com/product/3178">Feather M0 LoRa</a>, for sale by Adafruit</td>
</tr>
</tbody>
</table>
<p><em><strong>NOTE</strong></em>: you'll need to choose a Feather M0 LoRa radio band (433 MHz or 868/915 Mhz) that matches the frequency of your LoRa-WiFi gateway.</p>
<ul>
<li>an <a href="https://www.adafruit.com/product/1293">AM2315 Temp + Humidity sensor</a> (purchase via Adafruit, Digikey, or etc.):</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/am2315.jpg"> <img src="/img/valedalama/am2315.jpg" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">an <a href="https://www.adafruit.com/product/1293">AM2315 Temp + Humidity sensor</a>, for sale by Adafruit</td>
</tr>
</tbody>
</table>
<ul>
<li>and a PVOS 'Lama' Board, <a href="">version 4</a> or <a href="">version 5</a></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/pvos_oshpark_v5.png"> <img src="/img/valedalama/pvos_oshpark_v5.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A <a href="https://oshpark.com/shared_projects/vQ5JTv0Z">PVOS 'Lama' Board Ver 5</a>, available via OSHPARK.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/3d_render.png"> <img src="/img/valedalama/3d_render.png" alt="figA2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A <a href="https://oshpark.com/shared_projects/vQ5JTv0Z">PVOS 'Lama' Board Ver 5</a> rendered with headers soldered (but not yet the screw terminals).</td>
</tr>
</tbody>
</table>
<p>A can be purchased directly from <a href="(https://oshpark.com/shared_projects/vQ5JTv0Z)">OSHPARK</a> or by sending the [design files] to PCB manufacturers like JLCPCB, etc.</p>
<p><em><strong>NOTE</strong></em>: some simple hand-soldering (beginner level) and wire stripping is required.</p>
<h3>Connecting the sensor</h3>
<p>The <a href="https://www.adafruit.com/product/1293">AM2315</a> is an i2c sensor -- which means that it has the following wires:</p>
<ul>
<li>VCC / 3.3V  (Red)</li>
<li>GND (Black)</li>
<li>SCL (White)</li>
<li>SDA (Yellow)</li>
</ul>
<p>These wires should connect to the relevant screw terminal inputs on the &quot;Version 4 Motherboard&quot;, as depicted here:</p>
<table>
<thead>
<tr>
<th style="text-align:center"><a href="/img/valedalama/remote_v4_board.png"> <img src="/img/valedalama/remote_v4_board.png" alt="fig2"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Remote board, version 4.</td>
</tr>
</tbody>
</table>
<p>The Feather M0 LoRa should be plugged into the relevant headers on the mothboard, as well.</p>
<p>Note that all resistors (4.7K or 10K) should also be soldered to the board.</p>
<h3>Sensor Test</h3>
<p>Code for testing the AM2315 with the Feather is <a href="https://github.com/edgecollective/valedalama/tree/master/greenhouse/remote/feather_firmware/featherm0_am2315">here</a>.</p>
<p><img src="/img/valedalama/featherm0_am2315.png" alt=""></p>
<h3>Radio Setup</h3>
<p>Code for measuring the AM2315 and sending it via LoRa is <a href="https://github.com/edgecollective/valedalama/tree/master/greenhouse/remote/feather_firmware/featherm0_am2315_lora">here</a>.</p>
<p>Note: you'll need to modify the code to match the radio frequency you're using:</p>
<p><img src="/img/valedalama/featherm0_am2315_radio_freq.png" alt=""></p>
<p>Code for adding sleep functionality is <a href="https://github.com/edgecollective/valedalama/tree/master/greenhouse/remote/feather_firmware/featherm0_am2315_lora_sleep">here</a>.</p>
<hr>
<h2><a name="gateway"></a> 4. Gateway setup</h2>
<p><img src="/img/valedalama/stack_gateway.png" alt="figA2"></p>
<p>The gateway we'll be using is a <a href="https://heltec.org/project/wifi-lora-32/">'Heltec Wifi-LoRa 32 v2'</a>, it is available widely online, including <a href="https://www.amazon.com/MakerFocus-Development-Bluetooth-0-96inch-Display/dp/B076MSLFC9/ref=asc_df_B076MSLFC9/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=312824707815&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4477519221563307865&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9002000&amp;hvtargid=pla-570414542843&amp;psc=1">here</a>. No soldering is required.</p>
<h3>Configuring the Arduino IDE to program Heltec ESP32-LoRa V2</h3>
<p>After the initial setup process described above for configuring the Arduino IDE to work with the Heltec and Feather device, you can easily select the proper Port and Board settings in the Arduino IDE as follows:</p>
<ul>
<li>
<p><strong>Board selection</strong>. From the Arduino IDE Tools menu, select: &quot;Tools:Board:ESP 32 Arduino:Heltec Wifi LoRa (V2)&quot;</p>
</li>
<li>
<p><strong>Port selection</strong>. From the Arduino IDE Tools: Port menu, select the port to which your Heltec is connected via USB.</p>
</li>
</ul>
<h3>Uploading Gateway Firmware</h3>
<p>Sample code for your esp32-lora gateway is <a href="https://github.com/edgecollective/valedalama/tree/master/greenhouse/gateway/heltec_wifi_lora_bayou_farmos">here</a>.  You should download this folder and open it up in the ArduinoIDE.</p>
<p>First, set up the configuration file, <code>configuration.h</code>, which is located in your gateway arduino code folder.  If you open the folder in the Arduino IDE,  configuration.h should open automatically in a separate tab. Click on that tab in order to edit your credentials.</p>
<p><img src="/img/valedalama/heltec_credentials.png" alt=""></p>
<p>The <code>configuration.h</code> file has the following fields:</p>
<pre><code>const char *SSID = &quot;(YOUR WIFI SSID)&quot;;
const char *WiFiPassword = &quot;(YOUR WIFI PASSWORD)&quot;;
const char* bayou_url = &quot;(YOUR BAYOU URL)&quot;;
const char* bayou_privkey = &quot;(YOUR BAYOU PRIVATE KEY)&quot;;
const char* farmOS_url = &quot;(YOUR FARMOS URL)&quot;;
</code></pre>
<h4>Setting up wifi</h4>
<p>In the credentials.h file, you'll see a place to enter your wifi credentials.  For example, if your wifi's name were 'Nancy' and your password were 'Drew1234', you'd edit the configurations.h file to look like the following:</p>
<pre><code>const char *SSID = &quot;Nancy&quot;;
const char *WiFiPassword = &quot;Drew1234&quot;;
const char* bayou_url = &quot;(YOUR BAYOU URL)&quot;;
const char* bayou_privkey = &quot;(YOUR BAYOU PRIVATE KEY)&quot;;
const char* farmOS_url = &quot;(YOUR FARMOS URL)&quot;;
</code></pre>
<h4>Setting up Bayou credentials</h4>
<p>If you're posting to Bayou, you'll want to use the Bayou publickey and private you created above, and enter them into the configuration.h file.</p>
<p>For examle, if your Bayou public key / private key pair (generated in the server setup above) were:</p>
<pre><code>public key: 1a142aee9702045f3049325318f14fab10d24ce3e0c8a387d092759c0594ba53
private key: db84537367d8e9026e93b97cfef3adc11781d90abb56f24d96ee12e7ce899344
</code></pre>
<p>Then your 'bayou_url' is formed by pre-pending <code>http://157.230.188.100:3000/api/drives/</code> to your public key, and your bayou_privkey is simply your private key.</p>
<p>In our example, you'd modify the <code>configuration.h</code> file to look like this:</p>
<pre><code>const char *SSID = &quot;(YOUR WIFI SSID)&quot;;
const char *WiFiPassword = &quot;(YOUR WIFI PASSWORD)&quot;;
const char* bayou_url = &quot;http://157.230.188.100:3000/api/drives/1a142aee9702045f3049325318f14fab10d24ce3e0c8a387d092759c0594ba53&quot;;
const char* bayou_privkey = &quot;db84537367d8e9026e93b97cfef3adc11781d90abb56f24d96ee12e7ce899344&quot;;
const char* farmOS_url = &quot;(YOUR FARMOS URL)&quot;;
</code></pre>
<p>(Note, you don't need to modify the FarmOS parameters in configuration.h if you're not posting to FarmOS.)</p>
<p><strong>NOTE</strong>:  you must rename &quot;sample_configuration.h&quot; to &quot;configuration.h&quot;!</p>
<h4>Setting the LoRa frequency</h4>
<p>Next, you'll need to modify the LoRa radio frequency to match your setup:</p>
<p><img src="/img/valedalama/heltec_wifi_lora_gateway_freq.png" alt=""></p>
<p>NOTE:  As of this writing, the code only works with <em>either</em> Bayou <em>or</em> FarmOS.  You may need to comment the relevant other upload section accordingly.</p>
<p>Finally, click on the 'upload' button.</p>
<p>You should expect to see your device connecting to your wifi, then receiving data from the Feather and posting it to Bayou / FarmOS.</p>
<h3>Example data</h3>
<p>Example of Bayou server data <a href="http://159.65.226.222:3000/drives/1a142aee9702045f3049325318f14fab10d24ce3e0c8a387d092759c0594ba5e">here</a></p>


    </div>
  </body>
</html>
